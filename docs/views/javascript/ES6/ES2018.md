---
title: ES2018
date: 2023-07-06 12:47:18
permalink: /pages/226fe4/
categories:
  - javascript
  - ES6
tags:
  -
---

## ES2018（ES9）新特性

:::details

- 异步迭代：async、await。
- Promise 方法：：finally()。无论结果是 Resolved 或者是 Rejected 都会执行。
- Rest、Spread 操作符和对象构建。
- 正则表达式：命名捕获组、反向断言、Unicode 属性转义。
- 模板文字和带标签的模板文字。

:::

## 异步迭代：async、await

在异步/等待过程中的某个时刻，您将尝试在同步循环内调用异步函数。

## Promise.finally()

在之前的 Promise 的调用链要么调用成功返回.then()方法，要么调用失败返回.catch()方法。在某些情况下，你想要在无论是成功还是失败，都运行同样的代码。例如实现清除、删除对话、关闭数据连接等操作。Promise.finally()允许你指定最终的逻辑。这为指定执行完 Promise 后，无论结果是 Resolved 或者是 Rejected 都需要执行的代码提供了一种方式。

Promise.finally()法接受一个回调函数作为参数，由于无法知道 Promise 实例的最终状态，所以 finally()的回调函数中不接收任何参数，它仅用于无论最终结果如何都要执行的情况。

## Rest/Spread 操作符和对象构建

Rest 和 Spread 的操作符都是...，只不过使用的场景和目的不一样。Rest（展开）主要用在对象的解构，目前只支持对象的解构和不确定的参数描述。Spread（扩展）主要用在字面量对象的构建上。

## 正则表达式

命名捕获组
JavaScript 正则表达式可以返回匹配对象-类似于数组的值，包含匹配的字符串。例如，要以 YYYY-MM-DD 格式解析日期：

## 反向断言

JavaScript 目前支持正则表达式中的前瞻断言。这意味着必须进行匹配但不捕获任何内容，并且断言不包含在整个匹配的字符串中。例如，要从任何价格中捕获货币符号：

## dotAll 模式

正则表达式中.（点）匹配除回车外的任何单字符，标记 s 改变这种行为，允许行终止符的出现，例如：

## Unicode 属性转义

到目前为止，还无法在正则表达式中本机访问 Unicode 字符属性。ES2018 在设置了 u（Unicode）标志的正则表达式中，以\p｛…｝和\p｛…}的形式，添加 Unicode 属性转义。

## 模板文字调整

之前，\u 开始一个 unicode 转义，\x 开始一个十六进制转义，\后跟一个数字开始一个八进制转义。这使得创建特定的字符串变得不可能，例如 Windows 文件路径 C:\uuu\xxx\111

ES2018 删除了与模板文字中的转义序列相关的所有语法限制。
